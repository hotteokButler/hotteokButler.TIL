# Create React App

# 1. Create React App

> 참고 사이트 : [https://create-react-app.dev/docs/getting-started/](https://create-react-app.dev/docs/getting-started/)
> 

## 1-1. 실행 순서

1) 터미널 실행

2)만들고자하는 디랙토리로 경로 변경 

3) `mkdir` 을 사용하여 새로운 디렉토리를 만들거나 아니면 필요한 폴더에 이동했다면,

`yarn create react-app my-app` 입력하게되면 필요한 툴들이 해당 디렉토리에 설치됨 (my-app부분엔 원하는 프로젝트 이름 설정)

- `yarn start` : 우리가 작성한 코드를 직접 확인해 볼 수 있도록 실행하게됨
- `yarn build` : 실행하지는 않고 우리가 만든 앱을 배포할 수 있도록 빌드해줌
- `yarn test` : 우리가 작성한 유닛 테스트를 실행해서 테스트를 성공했는지 실패했는지 알려줌
- `yarn eject` : create react-app을 사용하게되면 많은 것들이 자동적으로 설정되어있는데  그 설정을 커스텀하기위해 사용 ⇒ 다시 설정을 되돌릴 수 없다. 따라서 정말 필요해서 무언가 세부적으로 설정할때만!! 열어봐야함

⇒ 콘솔창에 프로세스가 돌아가고있는 상태기때문에 다른 명령어를 작성하려면 `ctrl + d` 를 이용해서 중지한 다음에 명령어를 입력해야함.

⇒ 중지하지않고 실행하면서 해야한다면 새로운 창을 열어서 터미널 두개로

❖ `rm -rf 삭제하고싶은 파일명` 으로 삭제할 수 있다.

## 1-2. 생성된 폴더 구성

1) .gitignore : 해당 파일에 명시되어있는 폴더나 파일들은 깃에 정보가 유지되지 않음

 (깃에 의해 트레킹되고 싶지 않다 할때 추가해줌)

2) package.json : npm에서 버전 관리를 할때, 즉 내 프로젝트에서 외부적으로 쓰이고 있는 라이브러리와 그 라이브러리의 버전들이 명시되어져있음

→ name : 어플리케이션 이름

→ version : 버전

→ private : private or public 명시

→ dependencies : 프로젝트에서 사용되는 외부 라이브러리들

3) README.md : 기본적으로 작성되어져있는데, 내용은 프로젝트에 관련된 설명을 작성

4) yarn.lock : yarn을 이용할경우 포함되어있음

5) node_modules : 외부라이브러리들을 추가했을때 자동적으로 추가됨. (추후 라이브러리를 썼을때 구조가 이상하거나 확인하고싶을때 여기서 확인할 수 있다 )

6) public : 사용자들에게 배포할때 외부적으로 보여지는 대표적인것들이 들어있음, 정적인 file을 담아두는 곳,

사용자가 한번에 받아서 컨텐츠가 변하지 않는 것들(static)

→ manifest.json : PWA(프로그래시브 웹 어플리케이션)을 만들때 , 즉 모바일에서 저장하는 웹 어플리케이션을 만들때 필요

→ robots.txt : 웹 크롤링을 위해서 이용됨

7) src : 핵심 소스코드 , 동적으로 변하는 컨텐츠(dynamic)

→ index.js : 최상위 루트

→ components : 공통적으로 사용하는 컴포넌트들을 해당 폴더를 만들어서 관리 (따로 추가해야함~)

- **정리**
    
    1. public : create-react-app으로 개발할 React 프로젝트의 Static 파일들(index.html 등)이 저장된 폴더입니다.
    2. public/index.html: 개발한 React 프로젝트가 표시될 파일
    3. src: 실제 React를 사용하여 개발을 할 때 사용하는 폴더입니다.
    4. src/index.js: 우리가 개발한 React 프로젝트를 index.html 파일에 표시하기 위한 파일
    5. src/App.js: 기본적으로 제공되는 React 컴포넌트 예제 ( 순수 js 코드와 구분하기위해 jsx확장자명으로 변경)
    6. src/App.css: App 컴포넌트에서 사용하는 CSS 파일
    7. src/App.test.js: App 컴포넌트를 테스트하기 위한 파일
    8. src/reportWebVitals.js: React의 성능을 측정하기 위한 파일
    9. src/setupTests.js: React에서 테스트를 실행하기 위한 설정 파일
    10. package.json: 개발에 필요한 라이브러리를 관리하는 파일입니다.
    

참고사이트 : [https://dev-yakuza.posstree.com/ko/react/create-react-app/start/](https://dev-yakuza.posstree.com/ko/react/create-react-app/start/)

> `yarn eject` 를 실행하게되면 나오는 folder

1) config
     → webpack : 코드를 모듈화해서 번들링하여 배포할 수 있게 도와줌 
2) package.json 파일에도 다른것들이 추가됨 , 프로젝트 규모가 커질수록 ‘create-react-app’을 사용하지 않고 수동적으로 관리하게되고 또 관리하는 팀이 따로 있을 정도로 관리하는 것도 지식이 많이 필요하고 시간도 오래걸림 ⇒ 따라서 개인적인 프로젝트를 진행할때는 그냥 eject를 하지않고 씀.

      → babel : 자바스크립트 트랜스컴파일러 (JavaScript transcompiler)이다. ECMAScript 2015 이후 버전을 예전버전으로 변환해준다. 예전 브라우저도 이해할 수 있는 버전으로 변환해준다.
그리고 순수 자바스크립트가아닌 타입스크립트나 JSX같은 것들도 브라우저가 이해할 수 있도록 자바스크립트로 변환해주기도한다. 
    ⇒ 즉, 브라우저나 예전 브라우저가 알아들을 수 있는 소스코드로 변환시켜준다. 세부적으로 설정도 가능

      →Webpack : 코드를 번들링해서 즉, 작성하는 소스코드나 리소스 이미지들을 한 번에 묶어서 번들 단위로 사용자에게 제공할 수 있도록 도와준다. 사용자가 다른 페이지를 열어서 새로운 페이지에서 필요한 자바스크립트나 이미지가 있다면 또 다시 모아서 번들링 해준다. 또, 자바스크립트를 작성할때 소스코드를 조금 줄여주고 긴 변수나 함수의 이름을 다른 사람들, 해커들이 알아보지 못하도록 변환 시키는 일도 한다.

      ⇒ 즉, 소스코드를 사용자에게 간편하게 전달할 수 있도록 모듈을 번들링한다.

      → ESLint : 즉각적으로 코드에 잘못된 점이 있다면 경고해준다. 

      → Jest : 유닛 테스트를 할 수 있게 도와주는 테스팅 프레임워크 

      → PostCss : CSS 전처리기 중 하나. Sass와 비슷하지만 정해진것만 할 수 있는 Sass와 달리, PostCss에는 다양한 플러그인이 있어서 우리가 원하는 것을 조금 더 추가해서 할 수 있다.
> 

* 번들링 : 정확하게 번들링이란 모듈들의 의존성 관계를 파악하여 그룹화시켜주는 작업을 뜻합니다. 모듈(module)이란 분리된 파일입니다. 즉, 분리된 녀석들을 하나로 합쳐주는 구나 라고 이해할 수 있습니다.

## ❖ folder set up

- file이름을 대문자로 시작하는 경우는 거의 없기때문에 소문자로 바꿔줌
- 위의 폴더 구성을 보고서는 필요없는건 삭제 후 시작
- 리액트 컴포넌트인지 순수 자바스크립트 코드인지 헷갈리기때문에 구분하기
    - react 컴포넌트는 .jsx 라는 확장자명을 사용
    - 순수 자바스크립트 코드는 .js 확장자명을 사용
    

> 이렇게 쓸 기본 템플릿을 만들었다하면,

`cd ..` (상위 디렉토리로 변경) → `cp -R template habit-tracker` ( [cp -R 복사할디렉토리 복사한디렉토리새이름] 순서로 입력해서 폴더를 통으로 복사) : 이렇게 해주면 쉽게 기본 셋업한  템플릿을 복제해 쓸 수 있다
> 

### 

### index.js 뜯어보기!

1. 실제로 브라우저는 Html과 CSS, 순수 자바스크립트만을 이해할 수 있기에, 결국 컴포넌트들은 babel을 통해 순수 자바스크립트로 컴파일됨
2. 이런 변환된 컴포넌트들을 Html과 연결하는 작업을 도와주는게 react-dom
3. react-dom에서 가져온 ReactDOM이라는 클래스의 렌더함수를 이용해서 html에 있는 요소를 가져와서 그 요소에 root컴포넌트를 연결
4.  제일 상위 요소인 App이라는 컴포넌트를 연결해주는 것, (즉, 제일 상위 컴포넌트를 연결해주는 것이 ReactDOM의 역할)
    
     항상 index.js 파일에서 연결해주고, 컴포넌트를 만들어가는건 app.jsx부터 시작하면된다!
    
5.  <React.StrictMode></React.StrictMode> = 자바스크립트의 'use strict'; 와 같은 기능,

엄격모드를 사용한 상태로 배포된다해도, 배포된 버전에는 StricMode가 활성화 되지 않아서 사용자가 콘솔에서 에러 메세지를 볼 수 없다

1. state : 해당 컴포넌트 안에서 갖고 있는 데이터
2. props : 내 컴포넌트에서 가지고 있는 State는 아니고 부모로 받아온 부모에서부터 전달된 properties(속성).